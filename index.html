<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoAuto95 - Administration Ultra Design</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        * { font-family: 'Inter', sans-serif; }
        .hero-gradient { background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%); }
        .card-hover { transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
        .card-hover:hover { transform: translateY(-8px); box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); }
        .gold-accent { color: #d4af37; }
        .btn-premium { 
            background: linear-gradient(135deg, #d4af37 0%, #f4e4a6 100%);
            color: #0f0f23;
            transition: all 0.3s ease;
        }
        .btn-premium:hover { 
            background: linear-gradient(135deg, #f4e4a6 0%, #d4af37 100%);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.3);
        }
        .nav-link { transition: all 0.3s ease; }
        .nav-link:hover { color: #d4af37; }
        .page { display: none; }
        .page.active { display: block; }
        .vehicle-card { 
            background: linear-gradient(145deg, #1a1a2e 0%, #16213e 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .luxury-border { border: 1px solid rgba(212, 175, 55, 0.3); }
        .admin-panel { background: linear-gradient(145deg, #1a1a2e 0%, #16213e 100%); }
        .loading { 
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            padding: 16px 24px;
            border-radius: 12px;
            color: white;
            font-weight: 500;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }
        .notification.show { transform: translateX(0); }
        .notification.success { background: linear-gradient(135deg, #10b981, #059669); }
        .notification.error { background: linear-gradient(135deg, #ef4444, #dc2626); }
        .notification.info { background: linear-gradient(135deg, #3b82f6, #2563eb); }
        .db-status { 
            padding: 8px 16px; 
            border-radius: 8px; 
            font-size: 14px; 
            font-weight: 500;
        }
        .db-status.connected { background: rgba(16, 185, 129, 0.2); color: #10b981; border: 1px solid rgba(16, 185, 129, 0.3); }
        .db-status.disconnected { background: rgba(239, 68, 68, 0.2); color: #ef4444; border: 1px solid rgba(239, 68, 68, 0.3); }
        .db-status.demo { background: rgba(245, 158, 11, 0.2); color: #f59e0b; border: 1px solid rgba(245, 158, 11, 0.3); }
        .admin-section { display: none; }
        .admin-section.active { display: block !important; }
        .admin-nav-btn-new { 
            background: rgba(255,255,255,0.1); 
            color: rgba(255,255,255,0.7); 
            border: 1px solid rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
        }
        .admin-nav-btn-new:hover { 
            background: rgba(255,255,255,0.2); 
            color: white; 
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        .admin-nav-btn-new.active { 
            background: linear-gradient(135deg, #d4af37 0%, #f4e4a6 100%); 
            color: #0f0f23; 
            border-color: #d4af37;
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.3);
        }
        .glass-card {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.1);
        }
        .dark-glass-card {
            background: rgba(15,15,35,0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.3);
        }
        .upload-zone {
            border: 2px dashed #d1d5db;
            transition: all 0.3s ease;
        }
        .upload-zone.dragover {
            border-color: #d4af37;
            background: rgba(212, 175, 55, 0.1);
        }
        .image-preview {
            position: relative;
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .delete-image-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(239, 68, 68, 0.9);
            color: white;
            border: none;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .delete-image-btn:hover {
            background: rgba(239, 68, 68, 1);
            transform: scale(1.1);
        }
        .version-badge { 
            position: fixed; 
            bottom: 20px; 
            left: 20px; 
            background: rgba(212, 175, 55, 0.1); 
            border: 1px solid rgba(212, 175, 55, 0.3); 
            color: #d4af37; 
            padding: 8px 12px; 
            border-radius: 8px; 
            font-size: 12px; 
            font-weight: 500;
            z-index: 1000;
        }
        .gradient-text {
            background: linear-gradient(135deg, #d4af37 0%, #f4e4a6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .modern-stats-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.1);
        }
        .modal { 
            position: fixed; 
            top: 0; 
            left: 0; 
            right: 0; 
            bottom: 0; 
            background: rgba(0,0,0,0.8); 
            z-index: 2000; 
            display: none; 
            align-items: center; 
            justify-content: center; 
        }
        .modal.show { display: flex; }
        .modal-content { 
            background: linear-gradient(145deg, #1a1a2e 0%, #16213e 100%); 
            border: 1px solid rgba(255, 255, 255, 0.1); 
            border-radius: 16px; 
            max-width: 90vw; 
            max-height: 90vh; 
            overflow-y: auto; 
        }
    </style>
</head>
<body class="bg-gray-900 text-white overflow-x-hidden">
    <!-- Badge Version -->
    <div class="version-badge">
        GoAuto95 Ultra v67 - Mode Réel 🔥
    </div>

    <!-- Notifications -->
    <div id="notification-container"></div>

    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 bg-black/90 backdrop-blur-md border-b border-white/10">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-2 cursor-pointer" onclick="showPage('home')">
                    <div class="w-10 h-10 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-lg flex items-center justify-center">
                        <span class="text-black font-bold text-lg">GA</span>
                    </div>
                    <span class="text-xl font-bold gold-accent">GoAuto95</span>
                </div>
                <div class="hidden md:flex items-center justify-center flex-1">
                    <div class="flex items-center space-x-8">
                        <a href="#" onclick="showPage('home')" class="nav-link">Accueil</a>
                        <a href="#" onclick="showPage('vehicles')" class="nav-link">Véhicules</a>
                        <a href="#" onclick="scrollToSection('services')" class="nav-link">Services</a>
                        <a href="#" onclick="scrollToSection('contact')" class="nav-link">Contact</a>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-4">
                    <div id="connection-status" class="db-status demo">
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-current rounded-full animate-pulse"></div>
                            <span>🔄 Connexion...</span>
                        </div>
                    </div>
                    <a href="#" onclick="showPage('login')" class="nav-link gold-accent bg-yellow-400/10 px-4 py-2 rounded-lg">Administration</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- PAGE ACCUEIL -->
    <div id="home-page" class="page active">
        <!-- Hero Section -->
        <section class="hero-gradient min-h-screen flex items-center justify-center relative overflow-hidden">
            <!-- Particules animées -->
            <div class="absolute inset-0 overflow-hidden">
                <div class="absolute w-96 h-96 bg-yellow-400/10 rounded-full blur-3xl -top-48 -left-48 animate-pulse"></div>
                <div class="absolute w-96 h-96 bg-blue-400/10 rounded-full blur-3xl -bottom-48 -right-48 animate-pulse" style="animation-delay: 2s;"></div>
            </div>
            
            <div class="max-w-6xl mx-auto px-6 text-center relative z-10">
                <div class="mb-8">
                    <div class="inline-flex items-center space-x-2 bg-yellow-400/10 border border-yellow-400/20 rounded-full px-6 py-3 mb-6">
                        <span class="w-2 h-2 bg-yellow-400 rounded-full animate-pulse"></span>
                        <span class="text-yellow-400 font-medium">Concessionnaire Premium</span>
                    </div>
                </div>
                
                <h1 class="text-6xl md:text-8xl font-black mb-6 leading-tight">
                    <span class="gradient-text">GoAuto95</span>
                </h1>
                
                <p class="text-xl md:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto leading-relaxed">
                    Votre partenaire de confiance pour l'achat et la vente de véhicules d'exception dans le Val-d'Oise
                </p>
                
                <div class="flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6 mb-12">
                    <button onclick="showPage('vehicles')" class="btn-premium px-8 py-4 rounded-xl font-semibold text-lg flex items-center space-x-2 card-hover">
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
                        </svg>
                        <span>Découvrir nos véhicules</span>
                    </button>
                    
                    <button onclick="scrollToSection('contact')" class="bg-white/10 hover:bg-white/20 backdrop-blur-md border border-white/20 px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 card-hover">
                        Nous contacter
                    </button>
                </div>
                
                <!-- Stats -->
                <div class="grid grid-cols-2 md:grid-cols-4 gap-6 max-w-4xl mx-auto">
                    <div class="modern-stats-card p-6 rounded-xl text-center card-hover">
                        <div class="text-3xl font-bold gold-accent mb-2">500+</div>
                        <div class="text-gray-400 text-sm">Véhicules vendus</div>
                    </div>
                    <div class="modern-stats-card p-6 rounded-xl text-center card-hover">
                        <div class="text-3xl font-bold gold-accent mb-2">15</div>
                        <div class="text-gray-400 text-sm">Années d'expérience</div>
                    </div>
                    <div class="modern-stats-card p-6 rounded-xl text-center card-hover">
                        <div class="text-3xl font-bold gold-accent mb-2">98%</div>
                        <div class="text-gray-400 text-sm">Clients satisfaits</div>
                    </div>
                    <div class="modern-stats-card p-6 rounded-xl text-center card-hover">
                        <div class="text-3xl font-bold gold-accent mb-2">24h</div>
                        <div class="text-gray-400 text-sm">Service client</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section Services -->
        <section id="services" class="py-20 bg-gray-800/50">
            <div class="max-w-6xl mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold mb-4">Nos <span class="gold-accent">Services</span></h2>
                    <p class="text-xl text-gray-400 max-w-2xl mx-auto">Une gamme complète de services pour tous vos besoins automobiles</p>
                </div>
                
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="vehicle-card p-8 rounded-xl card-hover">
                        <div class="w-16 h-16 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-xl flex items-center justify-center mb-6">
                            <svg class="w-8 h-8 text-black" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold mb-4">Vente de véhicules</h3>
                        <p class="text-gray-400 mb-6">Large sélection de véhicules neufs et d'occasion, rigoureusement contrôlés et garantis.</p>
                        <button class="text-yellow-400 font-medium hover:text-yellow-300 transition-colors">En savoir plus →</button>
                    </div>
                    
                    <div class="vehicle-card p-8 rounded-xl card-hover">
                        <div class="w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl flex items-center justify-center mb-6">
                            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold mb-4">Reprise véhicule</h3>
                        <p class="text-gray-400 mb-6">Estimation gratuite et reprise de votre ancien véhicule au meilleur prix du marché.</p>
                        <button class="text-blue-400 font-medium hover:text-blue-300 transition-colors">En savoir plus →</button>
                    </div>
                    
                    <div class="vehicle-card p-8 rounded-xl card-hover">
                        <div class="w-16 h-16 bg-gradient-to-br from-green-400 to-green-600 rounded-xl flex items-center justify-center mb-6">
                            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold mb-4">Garantie & SAV</h3>
                        <p class="text-gray-400 mb-6">Service après-vente réactif et garanties étendues pour votre tranquillité d'esprit.</p>
                        <button class="text-green-400 font-medium hover:text-green-300 transition-colors">En savoir plus →</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section Contact -->
        <section id="contact" class="py-20">
            <div class="max-w-6xl mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold mb-4">Nous <span class="gold-accent">Contacter</span></h2>
                    <p class="text-xl text-gray-400 max-w-2xl mx-auto">Notre équipe est à votre disposition pour répondre à toutes vos questions</p>
                </div>
                
                <div class="grid md:grid-cols-2 gap-12">
                    <div class="space-y-8">
                        <div class="flex items-start space-x-4">
                            <div class="w-12 h-12 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-lg flex items-center justify-center flex-shrink-0">
                                <svg class="w-6 h-6 text-black" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-xl font-semibold mb-2">Adresse</h3>
                                <p class="text-gray-400">123 Avenue de la République<br>95000 Cergy, Val-d'Oise</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start space-x-4">
                            <div class="w-12 h-12 bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0">
                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-xl font-semibold mb-2">Téléphone</h3>
                                <p class="text-gray-400">01 34 56 78 90<br>06 12 34 56 78</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start space-x-4">
                            <div class="w-12 h-12 bg-gradient-to-br from-green-400 to-green-600 rounded-lg flex items-center justify-center flex-shrink-0">
                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                                    <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-xl font-semibold mb-2">Email</h3>
                                <p class="text-gray-400">contact@goauto95.fr<br>vente@goauto95.fr</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="vehicle-card p-8 rounded-xl">
                        <h3 class="text-xl font-semibold mb-6">Envoyez-nous un message</h3>
                        <form class="space-y-4">
                            <div class="grid md:grid-cols-2 gap-4">
                                <input type="text" placeholder="Nom" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors">
                                <input type="email" placeholder="Email" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors">
                            </div>
                            <input type="text" placeholder="Sujet" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors">
                            <textarea placeholder="Votre message" rows="4" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors resize-none"></textarea>
                            <button type="submit" class="w-full btn-premium py-3 rounded-lg font-semibold">Envoyer le message</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- PAGE VÉHICULES -->
    <div id="vehicles-page" class="page">
        <section class="pt-32 pb-20">
            <div class="max-w-7xl mx-auto px-6">
                <div class="text-center mb-12">
                    <h1 class="text-4xl font-bold mb-4">Nos <span class="gold-accent">Véhicules</span></h1>
                    <p class="text-xl text-gray-400 max-w-2xl mx-auto">Découvrez notre sélection de véhicules d'exception</p>
                </div>
                
                <!-- Filtres -->
                <div class="flex flex-wrap items-center justify-center space-x-4 mb-12">
                    <button onclick="filterVehicles('all')" class="filter-btn active bg-yellow-400 text-black px-6 py-2 rounded-full font-medium transition-all">Tous</button>
                    <button onclick="filterVehicles('berline')" class="filter-btn bg-gray-700 hover:bg-gray-600 px-6 py-2 rounded-full font-medium transition-all">Berlines</button>
                    <button onclick="filterVehicles('suv')" class="filter-btn bg-gray-700 hover:bg-gray-600 px-6 py-2 rounded-full font-medium transition-all">SUV</button>
                    <button onclick="filterVehicles('sport')" class="filter-btn bg-gray-700 hover:bg-gray-600 px-6 py-2 rounded-full font-medium transition-all">Sport</button>
                </div>
                
                <!-- Grille des véhicules -->
                <div id="vehicles-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Les véhicules seront chargés ici -->
                </div>
            </div>
        </section>
    </div>

    <!-- PAGE CONNEXION -->
    <div id="login-page" class="page">
        <section class="hero-gradient pt-32 pb-20 flex items-center justify-center relative overflow-hidden">
            <div class="max-w-sm w-full mx-6 relative z-10">
                <div class="admin-panel rounded-xl p-6 luxury-border">
                    <div class="text-center mb-6">
                        <div class="w-12 h-12 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-xl flex items-center justify-center mx-auto mb-3">
                            <svg class="w-6 h-6 text-black" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"/>
                            </svg>
                        </div>
                        <h1 class="text-xl font-semibold gold-accent mb-1">Administration Ultra</h1>
                        <p class="text-sm text-gray-400">Connexion sécurisée</p>
                    </div>

                    <div id="db-connection-status" class="db-status demo text-center mb-6">
                        <div class="flex items-center justify-center space-x-2">
                            <div class="w-2 h-2 bg-current rounded-full animate-pulse"></div>
                            <span>🔄 Test de connexion...</span>
                        </div>
                    </div>

                    <form id="login-form" onsubmit="handleLogin(event)" class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium mb-1 text-white">Identifiant</label>
                            <input type="text" id="username" required class="w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors text-white placeholder-gray-400 text-sm" placeholder="admin" value="admin">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-1 text-white">Mot de passe</label>
                            <input type="password" id="password" required class="w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors text-white placeholder-gray-400 text-sm" placeholder="Votre mot de passe" value="auto95admin">
                        </div>

                        <div id="login-error" class="hidden bg-red-900/50 border border-red-500 text-red-200 px-3 py-2 rounded-lg">
                            <div class="flex items-center text-sm">
                                <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                </svg>
                                <span id="login-error-text">Identifiants incorrects</span>
                            </div>
                        </div>

                        <button type="submit" id="login-btn" class="w-full btn-premium py-3 rounded-lg font-semibold flex items-center justify-center">
                            <span id="login-btn-text">Se connecter</span>
                            <div id="login-loading" class="loading ml-2 hidden"></div>
                        </button>
                    </form>

                    <div class="mt-6 pt-6 border-t border-gray-700 text-center">
                        <p class="text-xs text-gray-500">
                            🚀 Mode réel - Base Supabase connectée
                        </p>
                        <p class="text-xs text-blue-400 mt-1">
                            Connexion requise pour accéder
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- PAGE ADMINISTRATION -->
    <div id="admin-page" class="page">
        <div class="pt-24 min-h-screen hero-gradient">
            <div class="max-w-7xl mx-auto px-6">
                <!-- Header Admin -->
                <div class="flex items-center justify-between mb-8">
                    <div>
                        <h1 class="text-3xl font-bold gold-accent mb-2">Administration GoAuto95</h1>
                        <p class="text-gray-400">Tableau de bord complet</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <div class="db-status connected">
                            <div class="flex items-center space-x-2">
                                <div class="w-2 h-2 bg-current rounded-full"></div>
                                <span>✅ Base connectée</span>
                            </div>
                        </div>
                        <button onclick="logout()" class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors">
                            Déconnexion
                        </button>
                    </div>
                </div>

                <!-- Navigation Admin -->
                <div class="flex flex-wrap items-center space-x-2 mb-8">
                    <button onclick="showAdminSection('dashboard')" class="admin-nav-btn-new active px-6 py-3 rounded-lg font-medium transition-all">
                        📊 Tableau de bord
                    </button>
                    <button onclick="showAdminSection('vehicles')" class="admin-nav-btn-new px-6 py-3 rounded-lg font-medium transition-all">
                        🚗 Véhicules
                    </button>
                    <button onclick="showAdminSection('clients')" class="admin-nav-btn-new px-6 py-3 rounded-lg font-medium transition-all">
                        👥 Clients
                    </button>
                    <button onclick="showAdminSection('settings')" class="admin-nav-btn-new px-6 py-3 rounded-lg font-medium transition-all">
                        ⚙️ Paramètres
                    </button>
                </div>

                <!-- Section Dashboard -->
                <div id="admin-dashboard" class="admin-section active">
                    <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="modern-stats-card p-6 rounded-xl">
                            <div class="flex items-center justify-between mb-4">
                                <div class="w-12 h-12 bg-gradient-to-br from-blue-400 to-blue-600 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
                                    </svg>
                                </div>
                                <span class="text-2xl font-bold" id="total-vehicles">0</span>
                            </div>
                            <h3 class="font-semibold text-gray-300">Véhicules en stock</h3>
                        </div>
                        
                        <div class="modern-stats-card p-6 rounded-xl">
                            <div class="flex items-center justify-between mb-4">
                                <div class="w-12 h-12 bg-gradient-to-br from-green-400 to-green-600 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/>
                                    </svg>
                                </div>
                                <span class="text-2xl font-bold" id="total-sales">0</span>
                            </div>
                            <h3 class="font-semibold text-gray-300">Ventes ce mois</h3>
                        </div>
                        
                        <div class="modern-stats-card p-6 rounded-xl">
                            <div class="flex items-center justify-between mb-4">
                                <div class="w-12 h-12 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-black" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                                    </svg>
                                </div>
                                <span class="text-2xl font-bold" id="total-clients">0</span>
                            </div>
                            <h3 class="font-semibold text-gray-300">Clients actifs</h3>
                        </div>
                        
                        <div class="modern-stats-card p-6 rounded-xl">
                            <div class="flex items-center justify-between mb-4">
                                <div class="w-12 h-12 bg-gradient-to-br from-purple-400 to-purple-600 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                    </svg>
                                </div>
                                <span class="text-2xl font-bold">98%</span>
                            </div>
                            <h3 class="font-semibold text-gray-300">Satisfaction</h3>
                        </div>
                    </div>
                    
                    <div class="grid lg:grid-cols-2 gap-8">
                        <div class="dark-glass-card p-6 rounded-xl">
                            <h3 class="text-xl font-semibold mb-4">Activité récente</h3>
                            <div class="space-y-4">
                                <div class="flex items-center space-x-3 p-3 bg-gray-800/50 rounded-lg">
                                    <div class="w-2 h-2 bg-green-400 rounded-full"></div>
                                    <span class="text-sm">Nouveau véhicule ajouté: BMW X5</span>
                                    <span class="text-xs text-gray-400 ml-auto">Il y a 2h</span>
                                </div>
                                <div class="flex items-center space-x-3 p-3 bg-gray-800/50 rounded-lg">
                                    <div class="w-2 h-2 bg-blue-400 rounded-full"></div>
                                    <span class="text-sm">Vente réalisée: Audi A4</span>
                                    <span class="text-xs text-gray-400 ml-auto">Il y a 4h</span>
                                </div>
                                <div class="flex items-center space-x-3 p-3 bg-gray-800/50 rounded-lg">
                                    <div class="w-2 h-2 bg-yellow-400 rounded-full"></div>
                                    <span class="text-sm">Nouveau client inscrit</span>
                                    <span class="text-xs text-gray-400 ml-auto">Il y a 6h</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="dark-glass-card p-6 rounded-xl">
                            <h3 class="text-xl font-semibold mb-4">Actions rapides</h3>
                            <div class="grid grid-cols-2 gap-4">
                                <button onclick="showAdminSection('vehicles')" class="bg-blue-600 hover:bg-blue-700 p-4 rounded-lg text-center transition-colors">
                                    <svg class="w-8 h-8 mx-auto mb-2" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M10 12a2 2 0 100-4 2 2 0 000 4z"/>
                                        <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"/>
                                    </svg>
                                    <span class="text-sm font-medium">Voir véhicules</span>
                                </button>
                                
                                <button onclick="openAddVehicleModal()" class="bg-green-600 hover:bg-green-700 p-4 rounded-lg text-center transition-colors">
                                    <svg class="w-8 h-8 mx-auto mb-2" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"/>
                                    </svg>
                                    <span class="text-sm font-medium">Ajouter véhicule</span>
                                </button>
                                
                                <button onclick="showAdminSection('clients')" class="bg-purple-600 hover:bg-purple-700 p-4 rounded-lg text-center transition-colors">
                                    <svg class="w-8 h-8 mx-auto mb-2" fill="currentColor" viewBox="0 0 20 20">
                                        <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"/>
                                    </svg>
                                    <span class="text-sm font-medium">Gérer clients</span>
                                </button>
                                
                                <button onclick="showAdminSection('settings')" class="bg-gray-600 hover:bg-gray-700 p-4 rounded-lg text-center transition-colors">
                                    <svg class="w-8 h-8 mx-auto mb-2" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"/>
                                    </svg>
                                    <span class="text-sm font-medium">Paramètres</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section Véhicules Admin -->
                <div id="admin-vehicles" class="admin-section">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-bold">Gestion des véhicules</h2>
                        <button onclick="openAddVehicleModal()" class="btn-premium px-6 py-3 rounded-lg font-semibold flex items-center space-x-2">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"/>
                            </svg>
                            <span>Ajouter un véhicule</span>
                        </button>
                    </div>
                    
                    <div class="dark-glass-card rounded-xl overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-800/50">
                                    <tr>
                                        <th class="px-6 py-4 text-left text-sm font-semibold text-gray-300">Véhicule</th>
                                        <th class="px-6 py-4 text-left text-sm font-semibold text-gray-300">Prix</th>
                                        <th class="px-6 py-4 text-left text-sm font-semibold text-gray-300">Année</th>
                                        <th class="px-6 py-4 text-left text-sm font-semibold text-gray-300">Kilométrage</th>
                                        <th class="px-6 py-4 text-left text-sm font-semibold text-gray-300">Statut</th>
                                        <th class="px-6 py-4 text-left text-sm font-semibold text-gray-300">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="admin-vehicles-table" class="divide-y divide-gray-700">
                                    <!-- Les véhicules seront chargés ici -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Section Clients Admin -->
                <div id="admin-clients" class="admin-section">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-bold">Gestion des clients</h2>
                        <button onclick="openAddClientModal()" class="btn-premium px-6 py-3 rounded-lg font-semibold flex items-center space-x-2">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"/>
                            </svg>
                            <span>Ajouter un client</span>
                        </button>
                    </div>
                    
                    <div class="dark-glass-card rounded-xl overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-800/50">
                                    <tr>
                                        <th class="px-6 py-4 text-left text-sm font-semibold text-gray-300">Nom</th>
                                        <th class="px-6 py-4 text-left text-sm font-semibold text-gray-300">Email</th>
                                        <th class="px-6 py-4 text-left text-sm font-semibold text-gray-300">Téléphone</th>
                                        <th class="px-6 py-4 text-left text-sm font-semibold text-gray-300">Dernière visite</th>
                                        <th class="px-6 py-4 text-left text-sm font-semibold text-gray-300">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="admin-clients-table" class="divide-y divide-gray-700">
                                    <!-- Les clients seront chargés ici -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Section Paramètres Admin -->
                <div id="admin-settings" class="admin-section">
                    <h2 class="text-2xl font-bold mb-6">Paramètres</h2>
                    
                    <div class="grid lg:grid-cols-2 gap-8">
                        <div class="dark-glass-card p-6 rounded-xl">
                            <h3 class="text-xl font-semibold mb-4">Informations générales</h3>
                            <form class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium mb-2">Nom de l'entreprise</label>
                                    <input type="text" value="GoAuto95" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">Adresse</label>
                                    <input type="text" value="123 Avenue de la République, 95000 Cergy" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">Téléphone</label>
                                    <input type="text" value="01 34 56 78 90" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">Email</label>
                                    <input type="email" value="contact@goauto95.fr" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors">
                                </div>
                                <button type="submit" class="btn-premium px-6 py-3 rounded-lg font-semibold">Sauvegarder</button>
                            </form>
                        </div>
                        
                        <div class="dark-glass-card p-6 rounded-xl">
                            <h3 class="text-xl font-semibold mb-4">Base de données</h3>
                            <div class="space-y-4">
                                <div class="flex items-center justify-between p-4 bg-gray-800/50 rounded-lg">
                                    <div>
                                        <h4 class="font-medium">Statut de connexion</h4>
                                        <p class="text-sm text-gray-400">Supabase connecté</p>
                                    </div>
                                    <div class="w-3 h-3 bg-green-400 rounded-full"></div>
                                </div>
                                
                                <div class="flex items-center justify-between p-4 bg-gray-800/50 rounded-lg">
                                    <div>
                                        <h4 class="font-medium">Sauvegarde automatique</h4>
                                        <p class="text-sm text-gray-400">Activée - Dernière: Aujourd'hui</p>
                                    </div>
                                    <button class="text-yellow-400 hover:text-yellow-300 font-medium">Configurer</button>
                                </div>
                                
                                <div class="flex items-center justify-between p-4 bg-gray-800/50 rounded-lg">
                                    <div>
                                        <h4 class="font-medium">Maintenance</h4>
                                        <p class="text-sm text-gray-400">Optimiser la base de données</p>
                                    </div>
                                    <button class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg text-sm transition-colors">Optimiser</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Ajout Véhicule -->
    <div id="add-vehicle-modal" class="modal">
        <div class="modal-content p-8 w-full max-w-2xl">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold gold-accent">Ajouter un véhicule</h2>
                <button onclick="closeAddVehicleModal()" class="text-gray-400 hover:text-white">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                    </svg>
                </button>
            </div>
            
            <form id="add-vehicle-form" onsubmit="handleAddVehicle(event)" class="space-y-6">
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium mb-2">Marque</label>
                        <input type="text" id="vehicle-brand" required class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors" placeholder="BMW, Audi, Mercedes...">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Modèle</label>
                        <input type="text" id="vehicle-model" required class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors" placeholder="X5, A4, Classe C...">
                    </div>
                </div>
                
                <div class="grid md:grid-cols-3 gap-6">
                    <div>
                        <label class="block text-sm font-medium mb-2">Année</label>
                        <input type="number" id="vehicle-year" required min="1990" max="2024" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors" placeholder="2020">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Prix (€)</label>
                        <input type="number" id="vehicle-price" required min="0" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors" placeholder="25000">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Kilométrage</label>
                        <input type="number" id="vehicle-mileage" required min="0" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors" placeholder="50000">
                    </div>
                </div>
                
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium mb-2">Carburant</label>
                        <select id="vehicle-fuel" required class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors">
                            <option value="">Sélectionner...</option>
                            <option value="Essence">Essence</option>
                            <option value="Diesel">Diesel</option>
                            <option value="Hybride">Hybride</option>
                            <option value="Électrique">Électrique</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Catégorie</label>
                        <select id="vehicle-category" required class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors">
                            <option value="">Sélectionner...</option>
                            <option value="berline">Berline</option>
                            <option value="suv">SUV</option>
                            <option value="sport">Sport</option>
                            <option value="utilitaire">Utilitaire</option>
                        </select>
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Description</label>
                    <textarea id="vehicle-description" rows="4" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors resize-none" placeholder="Description détaillée du véhicule..."></textarea>
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Images</label>
                    <div id="image-upload-zone" class="upload-zone border-2 border-dashed border-gray-600 rounded-lg p-8 text-center cursor-pointer hover:border-yellow-400 transition-colors">
                        <svg class="w-12 h-12 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 48 48">
                            <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <p class="text-gray-400 mb-2">Cliquez pour ajouter des images ou glissez-déposez</p>
                        <p class="text-sm text-gray-500">PNG, JPG jusqu'à 10MB</p>
                        <input type="file" id="vehicle-images" multiple accept="image/*" class="hidden">
                    </div>
                    <div id="image-previews" class="grid grid-cols-2 md:grid-cols-4 gap-4 mt-4"></div>
                </div>
                
                <div class="flex items-center justify-end space-x-4 pt-6 border-t border-gray-700">
                    <button type="button" onclick="closeAddVehicleModal()" class="px-6 py-3 bg-gray-600 hover:bg-gray-700 rounded-lg font-semibold transition-colors">
                        Annuler
                    </button>
                    <button type="submit" class="btn-premium px-6 py-3 rounded-lg font-semibold flex items-center space-x-2">
                        <span id="add-vehicle-btn-text">Ajouter le véhicule</span>
                        <div id="add-vehicle-loading" class="loading ml-2 hidden"></div>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Édition Véhicule -->
    <div id="edit-vehicle-modal" class="modal">
        <div class="modal-content p-8 w-full max-w-2xl">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold gold-accent">Modifier le véhicule</h2>
                <button onclick="closeEditVehicleModal()" class="text-gray-400 hover:text-white">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                    </svg>
                </button>
            </div>
            
            <form id="edit-vehicle-form" onsubmit="handleEditVehicle(event)" class="space-y-6">
                <input type="hidden" id="edit-vehicle-id">
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium mb-2">Marque</label>
                        <input type="text" id="edit-vehicle-brand" required class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Modèle</label>
                        <input type="text" id="edit-vehicle-model" required class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors">
                    </div>
                </div>
                
                <div class="grid md:grid-cols-3 gap-6">
                    <div>
                        <label class="block text-sm font-medium mb-2">Année</label>
                        <input type="number" id="edit-vehicle-year" required min="1990" max="2024" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Prix (€)</label>
                        <input type="number" id="edit-vehicle-price" required min="0" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Kilométrage</label>
                        <input type="number" id="edit-vehicle-mileage" required min="0" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors">
                    </div>
                </div>
                
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium mb-2">Carburant</label>
                        <select id="edit-vehicle-fuel" required class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors">
                            <option value="Essence">Essence</option>
                            <option value="Diesel">Diesel</option>
                            <option value="Hybride">Hybride</option>
                            <option value="Électrique">Électrique</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Catégorie</label>
                        <select id="edit-vehicle-category" required class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors">
                            <option value="berline">Berline</option>
                            <option value="suv">SUV</option>
                            <option value="sport">Sport</option>
                            <option value="utilitaire">Utilitaire</option>
                        </select>
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Description</label>
                    <textarea id="edit-vehicle-description" rows="4" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors resize-none"></textarea>
                </div>
                
                <div class="flex items-center justify-end space-x-4 pt-6 border-t border-gray-700">
                    <button type="button" onclick="closeEditVehicleModal()" class="px-6 py-3 bg-gray-600 hover:bg-gray-700 rounded-lg font-semibold transition-colors">
                        Annuler
                    </button>
                    <button type="submit" class="btn-premium px-6 py-3 rounded-lg font-semibold flex items-center space-x-2">
                        <span id="edit-vehicle-btn-text">Modifier le véhicule</span>
                        <div id="edit-vehicle-loading" class="loading ml-2 hidden"></div>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Ajout Client -->
    <div id="add-client-modal" class="modal">
        <div class="modal-content p-8 w-full max-w-lg">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold gold-accent">Ajouter un client</h2>
                <button onclick="closeAddClientModal()" class="text-gray-400 hover:text-white">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                    </svg>
                </button>
            </div>
            
            <form id="add-client-form" onsubmit="handleAddClient(event)" class="space-y-6">
                <div>
                    <label class="block text-sm font-medium mb-2">Nom complet</label>
                    <input type="text" id="client-name" required class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors" placeholder="Jean Dupont">
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Email</label>
                    <input type="email" id="client-email" required class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors" placeholder="jean.dupont@email.com">
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Téléphone</label>
                    <input type="tel" id="client-phone" required class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors" placeholder="06 12 34 56 78">
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Adresse</label>
                    <textarea id="client-address" rows="3" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors resize-none" placeholder="123 Rue de la Paix, 95000 Cergy"></textarea>
                </div>
                
                <div class="flex items-center justify-end space-x-4 pt-6 border-t border-gray-700">
                    <button type="button" onclick="closeAddClientModal()" class="px-6 py-3 bg-gray-600 hover:bg-gray-700 rounded-lg font-semibold transition-colors">
                        Annuler
                    </button>
                    <button type="submit" class="btn-premium px-6 py-3 rounded-lg font-semibold flex items-center space-x-2">
                        <span id="add-client-btn-text">Ajouter le client</span>
                        <div id="add-client-loading" class="loading ml-2 hidden"></div>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Édition Client -->
    <div id="edit-client-modal" class="modal">
        <div class="modal-content p-8 w-full max-w-lg">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold gold-accent">Modifier le client</h2>
                <button onclick="closeEditClientModal()" class="text-gray-400 hover:text-white">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                    </svg>
                </button>
            </div>
            
            <form id="edit-client-form" onsubmit="handleEditClient(event)" class="space-y-6">
                <input type="hidden" id="edit-client-id">
                <div>
                    <label class="block text-sm font-medium mb-2">Nom complet</label>
                    <input type="text" id="edit-client-name" required class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors">
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Email</label>
                    <input type="email" id="edit-client-email" required class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors">
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Téléphone</label>
                    <input type="tel" id="edit-client-phone" required class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors">
                </div>
                
                <div>
                    <label class="block text-sm font-medium mb-2">Adresse</label>
                    <textarea id="edit-client-address" rows="3" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-yellow-400 focus:outline-none transition-colors resize-none"></textarea>
                </div>
                
                <div class="flex items-center justify-end space-x-4 pt-6 border-t border-gray-700">
                    <button type="button" onclick="closeEditClientModal()" class="px-6 py-3 bg-gray-600 hover:bg-gray-700 rounded-lg font-semibold transition-colors">
                        Annuler
                    </button>
                    <button type="submit" class="btn-premium px-6 py-3 rounded-lg font-semibold flex items-center space-x-2">
                        <span id="edit-client-btn-text">Modifier le client</span>
                        <div id="edit-client-loading" class="loading ml-2 hidden"></div>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Configuration Supabase
        const SUPABASE_URL = 'https://wawrxekxeqljwdeqjgup.supabase.co';
        const SUPABASE_KEY = 'sb_publishable_aLN6iFYn9CceZ0juFqGF8A_ASWUPKkr';
        let supabase = null;
        let isLoggedIn = false;
        let isConnected = false;
        let selectedImages = [];

        // Données de démonstration
        let demoVehicles = [
            {
                id: 1,
                marque: 'BMW',
                modele: 'X5',
                annee: 2021,
                prix: 45000,
                kilometrage: 35000,
                carburant: 'Diesel',
                categorie: 'suv',
                description: 'SUV premium en excellent état, toutes options.',
                images: ['https://images.unsplash.com/photo-1555215695-3004980ad54e?w=500'],
                statut: 'disponible'
            },
            {
                id: 2,
                marque: 'Audi',
                modele: 'A4',
                annee: 2020,
                prix: 32000,
                kilometrage: 45000,
                carburant: 'Essence',
                categorie: 'berline',
                description: 'Berline élégante, parfaite pour les trajets quotidiens.',
                images: ['https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=500'],
                statut: 'disponible'
            },
            {
                id: 3,
                marque: 'Mercedes',
                modele: 'AMG GT',
                annee: 2022,
                prix: 85000,
                kilometrage: 15000,
                carburant: 'Essence',
                categorie: 'sport',
                description: 'Voiture de sport exceptionnelle, performances inégalées.',
                images: ['https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=500'],
                statut: 'disponible'
            }
        ];

        let demoClients = [
            {
                id: 1,
                nom: 'Jean Dupont',
                email: 'jean.dupont@email.com',
                telephone: '06 12 34 56 78',
                adresse: '123 Rue de la Paix, 95000 Cergy',
                derniere_visite: '2024-01-15'
            },
            {
                id: 2,
                nom: 'Marie Martin',
                email: 'marie.martin@email.com',
                telephone: '06 98 76 54 32',
                adresse: '456 Avenue des Champs, 95100 Argenteuil',
                derniere_visite: '2024-01-10'
            },
            {
                id: 3,
                nom: 'Pierre Durand',
                email: 'pierre.durand@email.com',
                telephone: '06 55 44 33 22',
                adresse: '789 Boulevard Victor Hugo, 95200 Sarcelles',
                derniere_visite: '2024-01-08'
            }
        ];

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            setupImageUpload();
        });

        // Initialisation de l'application
        async function initializeApp() {
            console.log('🚀 GoAuto95 Ultra v67 - Mode Réel');
            
            try {
                if (typeof window.supabase === 'undefined') {
                    throw new Error('Librairie Supabase non chargée');
                }
                
                supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
                
                // Test de connexion
                const { data, error } = await supabase
                    .from('admin_credentials')
                    .select('count', { count: 'exact', head: true });
                
                if (error) {
                    isConnected = false;
                    updateConnectionStatus('disconnected');
                } else {
                    isConnected = true;
                    updateConnectionStatus('connected');
                }
            } catch (error) {
                isConnected = false;
                updateConnectionStatus('disconnected');
            }

            // Charger les données initiales
            loadVehicles();
            loadDashboardStats();
        }

        // Connexion admin
        async function handleLogin(event) {
            event.preventDefault();
            
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value.trim();
            const errorDiv = document.getElementById('login-error');
            const loginBtn = document.getElementById('login-btn');
            const loginBtnText = document.getElementById('login-btn-text');
            const loginLoading = document.getElementById('login-loading');
            
            loginBtnText.textContent = 'Connexion...';
            loginLoading.classList.remove('hidden');
            loginBtn.disabled = true;
            errorDiv.classList.add('hidden');

            if (!isConnected || !supabase) {
                document.getElementById('login-error-text').textContent = 'Base de données non disponible';
                errorDiv.classList.remove('hidden');
                
                loginBtnText.textContent = 'Se connecter';
                loginLoading.classList.add('hidden');
                loginBtn.disabled = false;
                return;
            }

            try {
                const { data: userData, error: userError } = await supabase
                    .from('admin_credentials')
                    .select('*')
                    .eq('identifiant', username)
                    .eq('password', password);

                if (userError) {
                    throw new Error(`Erreur recherche: ${userError.message}`);
                }

                if (!userData || userData.length === 0) {
                    document.getElementById('login-error-text').textContent = 'Identifiants incorrects';
                    errorDiv.classList.remove('hidden');
                } else {
                    isLoggedIn = true;
                    localStorage.setItem('isLoggedIn', 'true');
                    showPage('admin');
                    showNotification('🎉 Connexion réussie !', 'success');
                    loadAdminData();
                }
            } catch (error) {
                document.getElementById('login-error-text').textContent = `Erreur: ${error.message}`;
                errorDiv.classList.remove('hidden');
            }
            
            loginBtnText.textContent = 'Se connecter';
            loginLoading.classList.add('hidden');
            loginBtn.disabled = false;
        }

        // Mise à jour du statut de connexion
        function updateConnectionStatus(status) {
            const statusElements = document.querySelectorAll('#connection-status, #db-connection-status');
            
            statusElements.forEach(element => {
                element.className = `db-status ${status}`;
                
                if (status === 'connected') {
                    element.innerHTML = `
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-current rounded-full"></div>
                            <span>✅ Base connectée</span>
                        </div>
                    `;
                } else {
                    element.innerHTML = `
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 bg-current rounded-full"></div>
                            <span>❌ Base déconnectée</span>
                        </div>
                    `;
                }
            });
        }

        // Notifications
        function showNotification(message, type = 'success') {
            const container = document.getElementById('notification-container');
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <div class="flex items-center justify-between">
                    <span>${message}</span>
                    <button onclick="this.parentElement.parentElement.remove()" class="ml-4 text-white/80 hover:text-white">×</button>
                </div>
            `;
            
            container.appendChild(notification);
            setTimeout(() => notification.classList.add('show'), 100);
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => notification.remove(), 300);
            }, 5000);
        }

        // Navigation
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            document.getElementById(pageId + '-page').classList.add('active');
            
            if (pageId === 'admin' && !isLoggedIn) {
                showPage('login');
                return;
            }
        }

        // Navigation admin
        function showAdminSection(sectionId) {
            document.querySelectorAll('.admin-section').forEach(section => {
                section.classList.remove('active');
            });
            document.querySelectorAll('.admin-nav-btn-new').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById('admin-' + sectionId).classList.add('active');
            event.target.classList.add('active');
            
            if (sectionId === 'vehicles') {
                loadAdminVehicles();
            } else if (sectionId === 'clients') {
                loadAdminClients();
            }
        }

        // Charger les véhicules
        async function loadVehicles() {
            const grid = document.getElementById('vehicles-grid');
            if (!grid) return;
            
            let vehicles = demoVehicles;
            
            if (isConnected && supabase) {
                try {
                    const { data, error } = await supabase
                        .from('vehicles')
                        .select('*')
                        .eq('statut', 'disponible');
                    
                    if (!error && data && data.length > 0) {
                        vehicles = data;
                    }
                } catch (error) {
                    console.log('Utilisation des données de démonstration');
                }
            }
            
            grid.innerHTML = vehicles.map(vehicle => `
                <div class="vehicle-card p-6 rounded-xl card-hover" data-category="${vehicle.categorie}">
                    <div class="aspect-video bg-gray-700 rounded-lg mb-4 overflow-hidden">
                        <img src="${vehicle.images?.[0] || 'https://images.unsplash.com/photo-1555215695-3004980ad54e?w=500'}" 
                             alt="${vehicle.marque} ${vehicle.modele}" 
                             class="w-full h-full object-cover">
                    </div>
                    <div class="space-y-3">
                        <h3 class="text-xl font-semibold">${vehicle.marque} ${vehicle.modele}</h3>
                        <div class="flex items-center justify-between text-sm text-gray-400">
                            <span>${vehicle.annee}</span>
                            <span>${vehicle.kilometrage?.toLocaleString()} km</span>
                            <span>${vehicle.carburant}</span>
                        </div>
                        <p class="text-gray-300 text-sm line-clamp-2">${vehicle.description}</p>
                        <div class="flex items-center justify-between pt-4 border-t border-gray-700">
                            <span class="text-2xl font-bold gold-accent">${vehicle.prix?.toLocaleString()} €</span>
                            <button class="bg-yellow-400 hover:bg-yellow-500 text-black px-4 py-2 rounded-lg font-medium transition-colors">
                                Détails
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Filtrer les véhicules
        function filterVehicles(category) {
            const vehicles = document.querySelectorAll('[data-category]');
            const buttons = document.querySelectorAll('.filter-btn');
            
            buttons.forEach(btn => {
                btn.classList.remove('active', 'bg-yellow-400', 'text-black');
                btn.classList.add('bg-gray-700', 'hover:bg-gray-600');
            });
            
            event.target.classList.add('active', 'bg-yellow-400', 'text-black');
            event.target.classList.remove('bg-gray-700', 'hover:bg-gray-600');
            
            vehicles.forEach(vehicle => {
                if (category === 'all' || vehicle.dataset.category === category) {
                    vehicle.style.display = 'block';
                } else {
                    vehicle.style.display = 'none';
                }
            });
        }

        // Charger les statistiques du dashboard
        function loadDashboardStats() {
            document.getElementById('total-vehicles').textContent = demoVehicles.length;
            document.getElementById('total-sales').textContent = Math.floor(demoVehicles.length * 0.4); // 40% des véhicules vendus
            document.getElementById('total-clients').textContent = demoClients.length;
        }

        // Charger les données admin
        function loadAdminData() {
            loadAdminVehicles();
            loadAdminClients();
        }

        // Charger les véhicules admin
        function loadAdminVehicles() {
            const table = document.getElementById('admin-vehicles-table');
            if (!table) return;
            
            table.innerHTML = demoVehicles.map(vehicle => `
                <tr class="hover:bg-gray-800/50">
                    <td class="px-6 py-4">
                        <div class="flex items-center space-x-3">
                            <img src="${vehicle.images?.[0] || 'https://images.unsplash.com/photo-1555215695-3004980ad54e?w=100'}" 
                                 alt="${vehicle.marque} ${vehicle.modele}" 
                                 class="w-12 h-12 rounded-lg object-cover">
                            <div>
                                <div class="font-medium">${vehicle.marque} ${vehicle.modele}</div>
                                <div class="text-sm text-gray-400">${vehicle.carburant}</div>
                            </div>
                        </div>
                    </td>
                    <td class="px-6 py-4 font-semibold">${vehicle.prix?.toLocaleString()} €</td>
                    <td class="px-6 py-4">${vehicle.annee}</td>
                    <td class="px-6 py-4">${vehicle.kilometrage?.toLocaleString()} km</td>
                    <td class="px-6 py-4">
                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                            ${vehicle.statut}
                        </span>
                    </td>
                    <td class="px-6 py-4">
                        <div class="flex items-center space-x-2">
                            <button onclick="editVehicle(${vehicle.id})" class="text-blue-400 hover:text-blue-300">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"/>
                                </svg>
                            </button>
                            <button onclick="deleteVehicle(${vehicle.id})" class="text-red-400 hover:text-red-300">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                </svg>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        // Charger les clients admin
        function loadAdminClients() {
            const table = document.getElementById('admin-clients-table');
            if (!table) return;
            
            table.innerHTML = demoClients.map(client => `
                <tr class="hover:bg-gray-800/50">
                    <td class="px-6 py-4 font-medium">${client.nom}</td>
                    <td class="px-6 py-4">${client.email}</td>
                    <td class="px-6 py-4">${client.telephone}</td>
                    <td class="px-6 py-4">${new Date(client.derniere_visite).toLocaleDateString('fr-FR')}</td>
                    <td class="px-6 py-4">
                        <div class="flex items-center space-x-2">
                            <button onclick="editClient(${client.id})" class="text-blue-400 hover:text-blue-300">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"/>
                                </svg>
                            </button>
                            <button onclick="deleteClient(${client.id})" class="text-red-400 hover:text-red-300">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"/>
                                </svg>
                            </button>
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        // Gestion du modal d'ajout de véhicule
        function openAddVehicleModal() {
            document.getElementById('add-vehicle-modal').classList.add('show');
        }

        // Configuration de l'upload d'images
        function setupImageUpload() {
            const uploadZone = document.getElementById('image-upload-zone');
            const fileInput = document.getElementById('vehicle-images');
            
            if (!uploadZone || !fileInput) return;
            
            uploadZone.addEventListener('click', () => fileInput.click());
            
            uploadZone.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadZone.classList.add('dragover');
            });
            
            uploadZone.addEventListener('dragleave', () => {
                uploadZone.classList.remove('dragover');
            });
            
            uploadZone.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadZone.classList.remove('dragover');
                handleFiles(e.dataTransfer.files);
            });
            
            fileInput.addEventListener('change', (e) => {
                handleFiles(e.target.files);
            });
        }

        // Gestion des fichiers
        function handleFiles(files) {
            Array.from(files).forEach(file => {
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        selectedImages.push({
                            file: file,
                            url: e.target.result
                        });
                        displayImagePreview(e.target.result, selectedImages.length - 1);
                    };
                    reader.readAsDataURL(file);
                }
            });
        }

        // Affichage des aperçus d'images
        function displayImagePreview(url, index) {
            const container = document.getElementById('image-previews');
            const preview = document.createElement('div');
            preview.className = 'image-preview';
            preview.innerHTML = `
                <img src="${url}" alt="Aperçu" class="w-full h-24 object-cover">
                <button type="button" onclick="removeImage(${index})" class="delete-image-btn">
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                    </svg>
                </button>
            `;
            container.appendChild(preview);
        }

        // Supprimer une image
        function removeImage(index) {
            selectedImages.splice(index, 1);
            const container = document.getElementById('image-previews');
            container.innerHTML = '';
            selectedImages.forEach((img, i) => {
                displayImagePreview(img.url, i);
            });
        }

        // Ajouter un véhicule
        async function handleAddVehicle(event) {
            event.preventDefault();
            
            const btnText = document.getElementById('add-vehicle-btn-text');
            const loading = document.getElementById('add-vehicle-loading');
            
            btnText.textContent = 'Ajout en cours...';
            loading.classList.remove('hidden');
            
            const vehicleData = {
                id: Date.now(), // ID temporaire
                marque: document.getElementById('vehicle-brand').value,
                modele: document.getElementById('vehicle-model').value,
                annee: parseInt(document.getElementById('vehicle-year').value),
                prix: parseInt(document.getElementById('vehicle-price').value),
                kilometrage: parseInt(document.getElementById('vehicle-mileage').value),
                carburant: document.getElementById('vehicle-fuel').value,
                categorie: document.getElementById('vehicle-category').value,
                description: document.getElementById('vehicle-description').value,
                images: selectedImages.map(img => img.url),
                statut: 'disponible'
            };
            
            try {
                if (isConnected && supabase) {
                    const { data, error } = await supabase
                        .from('vehicles')
                        .insert([vehicleData]);
                    
                    if (error) throw error;
                } else {
                    // Mode démo - ajouter aux données locales
                    demoVehicles.push(vehicleData);
                }
                
                showNotification('✅ Véhicule ajouté avec succès !', 'success');
                closeAddVehicleModal();
                loadVehicles();
                loadAdminVehicles();
                loadDashboardStats();
                
            } catch (error) {
                showNotification(`❌ Erreur: ${error.message}`, 'error');
            }
            
            btnText.textContent = 'Ajouter le véhicule';
            loading.classList.add('hidden');
        }

        // Éditer un véhicule
        function editVehicle(id) {
            const vehicle = demoVehicles.find(v => v.id === id);
            if (!vehicle) return;
            
            document.getElementById('edit-vehicle-id').value = vehicle.id;
            document.getElementById('edit-vehicle-brand').value = vehicle.marque;
            document.getElementById('edit-vehicle-model').value = vehicle.modele;
            document.getElementById('edit-vehicle-year').value = vehicle.annee;
            document.getElementById('edit-vehicle-price').value = vehicle.prix;
            document.getElementById('edit-vehicle-mileage').value = vehicle.kilometrage;
            document.getElementById('edit-vehicle-fuel').value = vehicle.carburant;
            document.getElementById('edit-vehicle-category').value = vehicle.categorie;
            document.getElementById('edit-vehicle-description').value = vehicle.description;
            
            document.getElementById('edit-vehicle-modal').classList.add('show');
        }

        // Gérer l'édition d'un véhicule
        async function handleEditVehicle(event) {
            event.preventDefault();
            
            const btnText = document.getElementById('edit-vehicle-btn-text');
            const loading = document.getElementById('edit-vehicle-loading');
            
            btnText.textContent = 'Modification...';
            loading.classList.remove('hidden');
            
            const id = parseInt(document.getElementById('edit-vehicle-id').value);
            const updatedData = {
                marque: document.getElementById('edit-vehicle-brand').value,
                modele: document.getElementById('edit-vehicle-model').value,
                annee: parseInt(document.getElementById('edit-vehicle-year').value),
                prix: parseInt(document.getElementById('edit-vehicle-price').value),
                kilometrage: parseInt(document.getElementById('edit-vehicle-mileage').value),
                carburant: document.getElementById('edit-vehicle-fuel').value,
                categorie: document.getElementById('edit-vehicle-category').value,
                description: document.getElementById('edit-vehicle-description').value
            };
            
            try {
                if (isConnected && supabase) {
                    const { data, error } = await supabase
                        .from('vehicles')
                        .update(updatedData)
                        .eq('id', id);
                    
                    if (error) throw error;
                } else {
                    // Mode démo - mettre à jour les données locales
                    const index = demoVehicles.findIndex(v => v.id === id);
                    if (index !== -1) {
                        demoVehicles[index] = { ...demoVehicles[index], ...updatedData };
                    }
                }
                
                showNotification('✅ Véhicule modifié avec succès !', 'success');
                closeEditVehicleModal();
                loadVehicles();
                loadAdminVehicles();
                
            } catch (error) {
                showNotification(`❌ Erreur: ${error.message}`, 'error');
            }
            
            btnText.textContent = 'Modifier le véhicule';
            loading.classList.add('hidden');
        }

        // Supprimer un véhicule
        async function deleteVehicle(id) {
            if (!confirm('Êtes-vous sûr de vouloir supprimer ce véhicule ?')) return;
            
            try {
                if (isConnected && supabase) {
                    const { error } = await supabase
                        .from('vehicles')
                        .delete()
                        .eq('id', id);
                    
                    if (error) throw error;
                } else {
                    // Mode démo - supprimer des données locales
                    const index = demoVehicles.findIndex(v => v.id === id);
                    if (index !== -1) {
                        demoVehicles.splice(index, 1);
                    }
                }
                
                showNotification('🗑️ Véhicule supprimé avec succès', 'success');
                loadVehicles();
                loadAdminVehicles();
                loadDashboardStats();
                
            } catch (error) {
                showNotification(`❌ Erreur: ${error.message}`, 'error');
            }
        }

        // Ajouter un client
        async function handleAddClient(event) {
            event.preventDefault();
            
            const btnText = document.getElementById('add-client-btn-text');
            const loading = document.getElementById('add-client-loading');
            
            btnText.textContent = 'Ajout en cours...';
            loading.classList.remove('hidden');
            
            const clientData = {
                id: Date.now(), // ID temporaire
                nom: document.getElementById('client-name').value,
                email: document.getElementById('client-email').value,
                telephone: document.getElementById('client-phone').value,
                adresse: document.getElementById('client-address').value,
                derniere_visite: new Date().toISOString().split('T')[0]
            };
            
            try {
                if (isConnected && supabase) {
                    const { data, error } = await supabase
                        .from('clients')
                        .insert([clientData]);
                    
                    if (error) throw error;
                } else {
                    // Mode démo - ajouter aux données locales
                    demoClients.push(clientData);
                }
                
                showNotification('✅ Client ajouté avec succès !', 'success');
                closeAddClientModal();
                loadAdminClients();
                loadDashboardStats();
                
            } catch (error) {
                showNotification(`❌ Erreur: ${error.message}`, 'error');
            }
            
            btnText.textContent = 'Ajouter le client';
            loading.classList.add('hidden');
        }

        // Éditer un client
        function editClient(id) {
            const client = demoClients.find(c => c.id === id);
            if (!client) return;
            
            document.getElementById('edit-client-id').value = client.id;
            document.getElementById('edit-client-name').value = client.nom;
            document.getElementById('edit-client-email').value = client.email;
            document.getElementById('edit-client-phone').value = client.telephone;
            document.getElementById('edit-client-address').value = client.adresse;
            
            document.getElementById('edit-client-modal').classList.add('show');
        }

        // Gérer l'édition d'un client
        async function handleEditClient(event) {
            event.preventDefault();
            
            const btnText = document.getElementById('edit-client-btn-text');
            const loading = document.getElementById('edit-client-loading');
            
            btnText.textContent = 'Modification...';
            loading.classList.remove('hidden');
            
            const id = parseInt(document.getElementById('edit-client-id').value);
            const updatedData = {
                nom: document.getElementById('edit-client-name').value,
                email: document.getElementById('edit-client-email').value,
                telephone: document.getElementById('edit-client-phone').value,
                adresse: document.getElementById('edit-client-address').value
            };
            
            try {
                if (isConnected && supabase) {
                    const { data, error } = await supabase
                        .from('clients')
                        .update(updatedData)
                        .eq('id', id);
                    
                    if (error) throw error;
                } else {
                    // Mode démo - mettre à jour les données locales
                    const index = demoClients.findIndex(c => c.id === id);
                    if (index !== -1) {
                        demoClients[index] = { ...demoClients[index], ...updatedData };
                    }
                }
                
                showNotification('✅ Client modifié avec succès !', 'success');
                closeEditClientModal();
                loadAdminClients();
                
            } catch (error) {
                showNotification(`❌ Erreur: ${error.message}`, 'error');
            }
            
            btnText.textContent = 'Modifier le client';
            loading.classList.add('hidden');
        }

        // Supprimer un client
        async function deleteClient(id) {
            if (!confirm('Êtes-vous sûr de vouloir supprimer ce client ?')) return;
            
            try {
                if (isConnected && supabase) {
                    const { error } = await supabase
                        .from('clients')
                        .delete()
                        .eq('id', id);
                    
                    if (error) throw error;
                } else {
                    // Mode démo - supprimer des données locales
                    const index = demoClients.findIndex(c => c.id === id);
                    if (index !== -1) {
                        demoClients.splice(index, 1);
                    }
                }
                
                showNotification('🗑️ Client supprimé avec succès', 'success');
                loadAdminClients();
                loadDashboardStats();
                
            } catch (error) {
                showNotification(`❌ Erreur: ${error.message}`, 'error');
            }
        }

        // Ouvrir le modal d'ajout de client
        function openAddClientModal() {
            document.getElementById('add-client-modal').classList.add('show');
        }

        // Fermer les modals
        function closeAddVehicleModal() {
            document.getElementById('add-vehicle-modal').classList.remove('show');
            document.getElementById('add-vehicle-form').reset();
            selectedImages = [];
            document.getElementById('image-previews').innerHTML = '';
        }

        function closeEditVehicleModal() {
            document.getElementById('edit-vehicle-modal').classList.remove('show');
        }

        function closeAddClientModal() {
            document.getElementById('add-client-modal').classList.remove('show');
            document.getElementById('add-client-form').reset();
        }

        function closeEditClientModal() {
            document.getElementById('edit-client-modal').classList.remove('show');
        }

        // Déconnexion
        function logout() {
            isLoggedIn = false;
            localStorage.setItem('isLoggedIn', 'false');
            showPage('login');
            showNotification('👋 Déconnexion réussie', 'success');
        }

        // Scroll vers section
        function scrollToSection(sectionId) {
            showPage('home');
            setTimeout(() => {
                const element = document.getElementById(sectionId);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth' });
                }
            }, 100);
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9816621882f0d64a',t:'MTc1ODI1NjU5OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
